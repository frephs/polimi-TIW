@startuml
skinparam shadowing true
skinparam componentStyle rectangle
skinparam defaultTextAlignment center

actor Developer as Dev #orchid
actor Client as C #lightblue


package "Build & Compilation" #wheat {
    component "Node.js (TypeScript to JS build)" as NODE #white
    component "Maven gradle + Jakarta Servlet WAR build" as WAR #white
}

Dev --> NODE: Compile
Dev --> WAR: Build 

package "Client Tier" #palegreen {
    component "Client JS controller" as CCT #white
    component "Event Handlers" as EH #white
    component "GUI State" as GS #white
    component "sessionStorage" as SS #white
    component "XHR Fetch" as XHR #white
    component "Response (JSON or HTML) Parser" as JSONP #white
}


C --> CCT : After login
EH -left-> XHR : Fetch
CCT -down-> EH : Sets
CCT -down-> GS : processes response and updates


package "Application Tier" #lightcoral {
    component "Servlet Controllers" as CT #white
    component "Thymeleaf Templates" as TT #white
    component "Beans" as B #white
    component "Static Resources" as STATIC #white
}
WAR -up-> CT : deploys


STATIC -up-> JSONP : Response
JSONP -right-> CCT : processed by
XHR -right-> CT : Request
CCT -right-> SS : manages

CT -down-> TT : process
CT -up-> STATIC : serve
package "Business & Data Tier" #lightsteelblue {
    component "Data Access\nObjects" as DAO #white
    database "Database" as DB #white
}

CT -down-> DAO : Request
DAO <-right-> DB : SQL Queries
DAO -left-> B : response


